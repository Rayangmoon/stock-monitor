# æ‰“åŒ…å’Œåˆ†äº«æŒ‡å—

## ðŸ“¦ å°†æ’ä»¶æ‰“åŒ…æˆ VSIX æ–‡ä»¶

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨æ‰“åŒ…è„šæœ¬ï¼ˆæŽ¨èï¼‰

```bash
./package.sh
```

è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨ï¼š
1. æ£€æŸ¥å¹¶å®‰è£… vsce å·¥å…·
2. æ¸…ç†æ—§æ–‡ä»¶
3. ç¼–è¯‘é¡¹ç›®
4. è¿è¡Œä»£ç æ£€æŸ¥
5. æ‰“åŒ…æˆ .vsix æ–‡ä»¶

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨æ‰“åŒ…

#### 1. å®‰è£… vsce å·¥å…·

```bash
npm install -g @vscode/vsce
```

#### 2. ç¼–è¯‘é¡¹ç›®

```bash
npm run compile
```

#### 3. æ‰“åŒ…

```bash
vsce package
```

æˆåŠŸåŽä¼šç”Ÿæˆ `stock-monitor-0.0.1.vsix` æ–‡ä»¶ã€‚

## ðŸ“¤ åˆ†äº«ç»™ä»–äºº

### æ–¹å¼ä¸€ï¼šç›´æŽ¥åˆ†äº« VSIX æ–‡ä»¶

å°†ç”Ÿæˆçš„ `.vsix` æ–‡ä»¶å‘é€ç»™å…¶ä»–äººï¼Œä»–ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å®‰è£…ï¼š

#### æ–¹æ³• 1ï¼šé€šè¿‡ VSCode ç•Œé¢å®‰è£…

1. æ‰“å¼€ VSCode
2. è¿›å…¥æ‰©å±•é¢æ¿ï¼ˆ`Ctrl+Shift+X` æˆ– `Cmd+Shift+X`ï¼‰
3. ç‚¹å‡»å³ä¸Šè§’çš„ `...` èœå•
4. é€‰æ‹© `ä»Ž VSIX å®‰è£…...`
5. é€‰æ‹© `.vsix` æ–‡ä»¶

#### æ–¹æ³• 2ï¼šé€šè¿‡å‘½ä»¤è¡Œå®‰è£…

```bash
code --install-extension stock-monitor-0.0.1.vsix
```

### æ–¹å¼äºŒï¼šå‘å¸ƒåˆ° VSCode å¸‚åœºï¼ˆå¯é€‰ï¼‰

å¦‚æžœæƒ³è®©æ›´å¤šäººä½¿ç”¨ï¼Œå¯ä»¥å‘å¸ƒåˆ° VSCode æ‰©å±•å¸‚åœºï¼š

#### 1. åˆ›å»ºå‘å¸ƒè€…è´¦å·

è®¿é—® https://marketplace.visualstudio.com/manage åˆ›å»ºè´¦å·

#### 2. èŽ·å– Personal Access Token

åœ¨ Azure DevOps ä¸­åˆ›å»º PATï¼š
- è®¿é—® https://dev.azure.com
- åˆ›å»º Personal Access Token
- æƒé™é€‰æ‹©ï¼šMarketplace (Manage)

#### 3. ç™»å½• vsce

```bash
vsce login your-publisher-name
```

è¾“å…¥åˆšæ‰åˆ›å»ºçš„ PAT

#### 4. å‘å¸ƒ

```bash
vsce publish
```

## ðŸ“‹ æ‰“åŒ…å‰æ£€æŸ¥æ¸…å•

åœ¨æ‰“åŒ…å‰ï¼Œç¡®ä¿ï¼š

- [x] ä»£ç å·²ç¼–è¯‘é€šè¿‡
- [x] Lint æ£€æŸ¥é€šè¿‡
- [x] åŠŸèƒ½æµ‹è¯•å®Œæˆ
- [x] package.json ä¸­çš„ä¿¡æ¯å®Œæ•´
  - [x] nameï¼ˆæ’ä»¶åç§°ï¼‰
  - [x] displayNameï¼ˆæ˜¾ç¤ºåç§°ï¼‰
  - [x] descriptionï¼ˆæè¿°ï¼‰
  - [x] versionï¼ˆç‰ˆæœ¬å·ï¼‰
  - [x] publisherï¼ˆå‘å¸ƒè€…ï¼Œå¦‚æžœè¦å‘å¸ƒåˆ°å¸‚åœºï¼‰
  - [x] repositoryï¼ˆä»£ç ä»“åº“ï¼Œå¯é€‰ï¼‰
- [x] README.md æ–‡æ¡£å®Œå–„
- [x] LICENSE æ–‡ä»¶å­˜åœ¨

## ðŸ”„ ç‰ˆæœ¬æ›´æ–°

å½“éœ€è¦å‘å¸ƒæ–°ç‰ˆæœ¬æ—¶ï¼š

### 1. æ›´æ–°ç‰ˆæœ¬å·

```bash
# è¡¥ä¸ç‰ˆæœ¬ï¼ˆ0.0.1 -> 0.0.2ï¼‰
npm version patch

# æ¬¡è¦ç‰ˆæœ¬ï¼ˆ0.0.1 -> 0.1.0ï¼‰
npm version minor

# ä¸»è¦ç‰ˆæœ¬ï¼ˆ0.0.1 -> 1.0.0ï¼‰
npm version major
```

### 2. é‡æ–°æ‰“åŒ…

```bash
./package.sh
```

### 3. æ›´æ–° CHANGELOG.md

è®°å½•æœ¬æ¬¡æ›´æ–°çš„å†…å®¹

## ðŸ“ package.json é‡è¦å­—æ®µè¯´æ˜Ž

```json
{
  "name": "stock-monitor",              // æ’ä»¶å”¯ä¸€æ ‡è¯†ï¼ˆå°å†™ï¼Œæ— ç©ºæ ¼ï¼‰
  "displayName": "è‚¡ç¥¨ç›‘æŽ§åŠ©æ‰‹",         // æ˜¾ç¤ºåç§°
  "description": "Aè‚¡å®žæ—¶ç›‘æŽ§...",       // ç®€çŸ­æè¿°
  "version": "0.0.1",                   // ç‰ˆæœ¬å·ï¼ˆéµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼‰
  "publisher": "your-name",             // å‘å¸ƒè€…åç§°
  "repository": {                       // ä»£ç ä»“åº“ï¼ˆå¯é€‰ï¼‰
    "type": "git",
    "url": "https://github.com/..."
  },
  "engines": {
    "vscode": "^1.75.0"                 // æœ€ä½Ž VSCode ç‰ˆæœ¬è¦æ±‚
  },
  "categories": ["Other"],              // åˆ†ç±»
  "keywords": ["è‚¡ç¥¨", "ç›‘æŽ§"],         // å…³é”®è¯ï¼ˆä¾¿äºŽæœç´¢ï¼‰
  "icon": "icon.png"                    // å›¾æ ‡ï¼ˆå¯é€‰ï¼Œ128x128 PNGï¼‰
}
```

## ðŸŽ¨ æ·»åŠ å›¾æ ‡ï¼ˆå¯é€‰ï¼‰

1. å‡†å¤‡ä¸€ä¸ª 128x128 çš„ PNG å›¾æ ‡
2. æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼Œå‘½åä¸º `icon.png`
3. åœ¨ package.json ä¸­æ·»åŠ ï¼š

```json
{
  "icon": "icon.png"
}
```

## ðŸ“Š æ–‡ä»¶å¤§å°ä¼˜åŒ–

å¦‚æžœ .vsix æ–‡ä»¶å¤ªå¤§ï¼Œå¯ä»¥ï¼š

### 1. åˆ›å»º .vscodeignore æ–‡ä»¶

```bash
cat > .vscodeignore << 'EOF'
.vscode/**
.vscode-test/**
src/**
.gitignore
.eslintrc.json
tsconfig.json
**/*.ts
**/*.map
.git
node_modules/**
*.vsix
verify.sh
package.sh
PROJECT_*.md
QUICKSTART.md
GETTING_STARTED.md
EOF
```

è¿™æ ·æ‰“åŒ…æ—¶ä¼šæŽ’é™¤ä¸å¿…è¦çš„æ–‡ä»¶ã€‚

### 2. ä½¿ç”¨ --no-dependencies

å¦‚æžœä¾èµ–åŒ…å¾ˆå¤§ï¼Œå¯ä»¥è€ƒè™‘ï¼š

```bash
vsce package --no-dependencies
```

ä½†è¦ç¡®ä¿è¿è¡Œæ—¶ä¾èµ–å·²æ­£ç¡®æ‰“åŒ…ã€‚

## ðŸš€ å¿«é€Ÿåˆ†äº«æµç¨‹

### ç»™åŒäº‹/æœ‹å‹

1. è¿è¡Œæ‰“åŒ…è„šæœ¬ï¼š
   ```bash
   ./package.sh
   ```

2. å°†ç”Ÿæˆçš„ `.vsix` æ–‡ä»¶å‘é€ç»™å¯¹æ–¹

3. å‘Šè¯‰å¯¹æ–¹å®‰è£…æ–¹æ³•ï¼š
   - æ‰“å¼€ VSCode
   - æ‰©å±•é¢æ¿ â†’ `...` â†’ ä»Ž VSIX å®‰è£…

### é€šè¿‡ç½‘ç›˜/äº‘å­˜å‚¨

1. æ‰“åŒ…æ’ä»¶
2. ä¸Šä¼  `.vsix` æ–‡ä»¶åˆ°ç½‘ç›˜
3. åˆ†äº«ä¸‹è½½é“¾æŽ¥
4. æä¾›å®‰è£…è¯´æ˜Ž

### é€šè¿‡ GitHub Release

1. åˆ›å»º Git ä»“åº“å¹¶æŽ¨é€ä»£ç 
2. æ‰“åŒ…æ’ä»¶
3. åœ¨ GitHub åˆ›å»º Release
4. ä¸Šä¼  `.vsix` æ–‡ä»¶ä½œä¸ºé™„ä»¶
5. åˆ†äº« Release é“¾æŽ¥

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç‰ˆæœ¬å·ç®¡ç†**
   - éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼ˆSemantic Versioningï¼‰
   - æ ¼å¼ï¼šä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è®¢å·

2. **ä¾èµ–ç®¡ç†**
   - ç¡®ä¿ dependencies ä¸­åªåŒ…å«è¿è¡Œæ—¶ä¾èµ–
   - devDependencies ä¸ä¼šè¢«æ‰“åŒ…

3. **æµ‹è¯•**
   - æ‰“åŒ…åŽå…ˆåœ¨æœ¬åœ°å®‰è£…æµ‹è¯•
   - ç¡®è®¤æ‰€æœ‰åŠŸèƒ½æ­£å¸¸

4. **æ–‡æ¡£**
   - README.md è¦æ¸…æ™°è¯´æ˜Žä½¿ç”¨æ–¹æ³•
   - åŒ…å«é…ç½®è¯´æ˜Žå’Œå¸¸è§é—®é¢˜

5. **è®¸å¯è¯**
   - ç¡®ä¿ LICENSE æ–‡ä»¶å­˜åœ¨
   - è¯´æ˜Žä½¿ç”¨é™åˆ¶

## ðŸ“ž ç”¨æˆ·æ”¯æŒ

å»ºè®®åœ¨ README.md ä¸­æä¾›ï¼š
- ä½¿ç”¨æ–‡æ¡£é“¾æŽ¥
- é—®é¢˜åé¦ˆæ–¹å¼ï¼ˆGitHub Issuesã€é‚®ç®±ç­‰ï¼‰
- æ›´æ–°æ—¥å¿—é“¾æŽ¥

## ðŸŽ‰ å®Œæˆï¼

çŽ°åœ¨ä½ å¯ä»¥ï¼š
1. è¿è¡Œ `./package.sh` æ‰“åŒ…æ’ä»¶
2. å°† `.vsix` æ–‡ä»¶åˆ†äº«ç»™ä»–äºº
3. æˆ–å‘å¸ƒåˆ° VSCode å¸‚åœºä¾›æ‰€æœ‰äººä½¿ç”¨

---

**æç¤º**ï¼šç¬¬ä¸€æ¬¡æ‰“åŒ…å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚
